"use strict";(self.webpackChunkpcr_gvg=self.webpackChunkpcr_gvg||[]).push([[906],{3445:function(b,x,i){i.d(x,{JC:function(){return c.JC},MZ:function(){return c.MZ},V1:function(){return c.V1},WS:function(){return c.WS},tI:function(){return c.tI}}),i(4744);var c=i(7420)},5319:function(b,x,i){i.d(x,{CN:function(){return d.CN},D:function(){return c.D}});var d=i(3888),c=i(6016)},22:function(b,x,i){i.d(x,{X:function(){return c},Y:function(){return d}});var d=function(){return(m=d||(d={}))[m.manual=10]="manual",m[m.auto=20]="auto",m[m.harfAuto=40]="harfAuto",m[m.easyManual=50]="easyManual",d;var m}(),c=function(){return(m=c||(c={})).manual="\u624b\u52a8",m.auto="\u81ea\u52a8",m.harfAuto="\u534a\u81ea\u52a8",m.easyManual="\u7b80\u6613\u624b\u52a8",c;var m}()},4906:function(b,x,i){i.r(x),i.d(x,{PageModule:function(){return X}});var d=i(7989),c=i(2126),m=i(8773),B=i(6645),g=i(9198),t=i(9934),u=i(7039),C=i(7740);function T(s,l){1&s&&(u.TgZ(0,"div"),u._uU(1," \u672c\u7ad9\u4e3a\u7c89\u4e1d\u81ea\u5236,\u8d44\u6e90\u4e3b\u8981\u6765\u6e90\u4e3a\u5e72\u70b8\u91cc\u810a,\u5982\u679c\u6709\u95ee\u9898\u8054\u7cfb\u6211\u53ef\u63d0 "),u.TgZ(2,"a",5),u._uU(3,"issue"),u.qZA()())}var h=function(){var s=(0,d.Z)(function l(){(0,c.Z)(this,l),this.shwoLink=t.N.showLink});return s.\u0275fac=function(p){return new(p||s)},s.\u0275cmp=u.Xpm({type:s,selectors:[["pcr-about"]],decls:39,vars:1,consts:[[1,"g-card",2,"margin-bottom","16px"],[1,"g-card-title"],[4,"ngIf"],[2,"color","red","font-size","20px"],[1,"g-card"],["href","https://github.com/pcrgvg/gvg_front/issues","target","_blank"]],template:function(p,f){1&p&&(u.TgZ(0,"div",0)(1,"h4",1),u._uU(2,"\u5173\u4e8e\u672c\u7ad9"),u.qZA(),u.YNc(3,T,4,0,"div",2),u.TgZ(4,"div",3),u._uU(5,"\u613f\u610f\u7ef4\u62a4\u4f5c\u4e1a\u4ee5\u53ca\u63d0\u610f\u89c1\u53ef\u52a0\u7fa4809036333"),u.qZA()(),u.TgZ(6,"div",4)(7,"h4",1),u._uU(8,"\u56fe\u7247"),u.qZA(),u.TgZ(9,"div"),u._uU(10,"\u5982\u679c\u56fe\u7247\u663e\u793a\u4e0d\u51fa,\u53ef\u4f7f\u7528\u8c37\u6b4c\u6d4f\u89c8\u5668,\u6216\u8005\u5207\u6362\u56fe\u6e90"),u.qZA(),u.TgZ(11,"h4",1),u._uU(12,"\u7f13\u5b58"),u.qZA(),u.TgZ(13,"div"),u._uU(14,"\u662f\u5426\u5df2\u4f7f\u7528,\u53bb\u9664,\u672a\u62e5\u6709\u89d2\u8272\u90fd\u5b58\u5728\u672c\u5730,\u5efa\u8bae\u6bcf\u6b21\u65b0\u4f1a\u6218\u6e05\u9664\u4e00\u4e0b"),u.qZA(),u.TgZ(15,"h4",1),u._uU(16,"\u7b5b\u5200"),u.qZA(),u.TgZ(17,"div"),u._uU(18," \u7b5b\u5200\u7ed3\u679c\u4f1a\u6309\u7167\u4e09\u5200\u603b\u5206\u7531\u9ad8\u5230\u4f4e\u6392\u5e8f,\u82e5\u5305\u542b\u9009\u4e2d\u5df2\u4f7f\u7528\u7684,\u5219\u4f1a\u6309\u7167\u7ec4\u5408\u4e2d\u5df2\u4f7f\u7528\u7684\u6570\u91cf\u6392\u5e8f,\u7ed3\u679c\u4e09\u5200\u6309\u7167\u603b\u5206\u7531\u9ad8\u5230\u4f4e\u6392\u5e8f(\u5c3e\u5200\u4e0d\u53c2\u4e0e\u5206\u5200), \u5408\u5e76\u81ea\u52a8/\u624b\u52a8,\u5982\u679c\u7b5b\u9009\u65f6\u4f5c\u4e1a\u65b9\u5f0f\u5305\u542b\u624b\u52a8\u5219\u663e\u793a\u624b\u52a8\u4f24\u5bb3,\u4e0d\u5305\u542b\u624b\u52a8\u663e\u793a\u81ea\u52a8\u4f24\u5bb3,\u5206\u5200\u6392\u5e8f\u7684\u65f6\u5019\u540c\u7406,\u81ea\u52a8\u4f24\u5bb3\u53ef\u80fd\u4e0d\u51c6\u786e "),u.qZA(),u.TgZ(19,"h4",1),u._uU(20,"\u5207\u6362\u4f7f\u7528"),u.qZA(),u.TgZ(21,"div"),u._uU(22,"\u5982\u679c\u67d0\u4e9b\u5200\u5df2\u7ecf\u4f7f\u7528\u6216\u8005\u60f3\u4f7f\u7528,\u9009\u4e2d\u4f7f\u7528\u5c31\u4f1a\u5728\u7b5b\u9009\u7ed3\u679c\u9875\u9762\u4f18\u5148\u663e\u793a"),u.qZA(),u.TgZ(23,"h4",1),u._uU(24,"\u53bb\u9664"),u.qZA(),u.TgZ(25,"div"),u._uU(26,"\u5982\u679c\u67d0\u4e9b\u5200\u6ca1\u6cd5\u4f7f\u7528,\u9009\u4e2d\u540e\u5728\u7b5b\u5200\u7684\u65f6\u5019\u4f1a\u53bb\u9664"),u.qZA(),u.TgZ(27,"h4",1),u._uU(28,"\u7b5b\u5200\u7ed3\u679c\u9875\u9762"),u.qZA(),u.TgZ(29,"div"),u._uU(30," \u7ed3\u679c\u9875\u9762\u9ed8\u8ba4\u663e\u793a\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u7ec4\u5408(\u5373\u6240\u6709boss\u90fd\u4e0d\u9009\u4e2d\u60c5\u51b5), \u5982\u679c\u60f3\u8981\u9009\u62e9\u7279\u5b9a\u7ec4\u5408, \u6bd4\u5982\u60f3\u8981\u4f18\u90091\u5200B1,2\u5200B3,\u5219\u9009\u4e2dB1,B2,\u5e76\u9009\u62e9B1\u4e3a1,B2\u4e3a2,\u7136\u540e\u70b9\u51fb\u7b5b\u9009 "),u.qZA(),u.TgZ(31,"h4",1),u._uU(32,"\u56fd\u670d\u4f5c\u4e1a\u8bf4\u660e"),u.qZA(),u.TgZ(33,"div"),u._uU(34," \u83b7\u53d6\u4f5c\u4e1a\u7684\u95f4\u9694\u4e3a15\u5206\u949f\u4e00\u6b21,\u4f5c\u4e1a\u6570\u636e\u4e0d\u4e00\u5b9a\u6700\u65b0,\u9635\u5bb9\u76f8\u540c\u4f46\u662f\u624b\u52a8/\u81ea\u52a8\u4e0d\u540c\u5e76\u672a\u505a\u5904\u7406,\u6240\u4ee5\u6570\u636e\u91cf\u6bd4\u8f83\u5927,\u5982\u679c\u4f7f\u7528\u7b5b\u5200\u529f\u80fd,\u8bf7\u53bb\u9664\u4e00\u90e8\u5206,\u5426\u5219\u53ef\u80fd\u4f1a\u5f88\u6162 "),u.qZA(),u.TgZ(35,"h4",1),u._uU(36,"\u53f0\u670d\u8bf4\u660e"),u.qZA(),u.TgZ(37,"div"),u._uU(38,"\u6240\u6709\u6570\u636e\u4f7f\u7528\u7684\u65e5\u670d\u6570\u636e"),u.qZA()()),2&p&&(u.xp6(3),u.Q6J("ngIf",f.shwoLink))},directives:[C.O5],styles:[""]}),s}(),v=i(7903),y=i(5319),U=i(8669),w=i(9006),z=i(1248),P=i(9048),O=i(4335);function M(s,l){if(1&s){var p=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){var k=u.CHM(p).$implicit;return u.oxw().jumpTo(k.value)}),u._uU(1),u.qZA()}if(2&s){var f=l.$implicit;u.xp6(1),u.hij(" ",f.label," ")}}function R(s,l){1&s&&(u.TgZ(0,"div"),u._uU(1," \u6709\u4ec0\u4e48\u4e0d\u660e\u767d\u7684\u5730\u65b9\u70b9\u51fb\u5e2e\u52a9\u67e5\u770b\u8bf4\u660e,\u5982\u679c\u6709bug\u6216\u8005\u4f18\u5316\u5efa\u8bae\u8054\u7cfb\u6211 "),u.TgZ(2,"p"),u._uU(3," \u53ef\u63d0 "),u.TgZ(4,"a",14),u._uU(5,"issue"),u.qZA(),u._uU(6," \u6216\u8005 "),u.TgZ(7,"a",15),u._uU(8,"nga"),u.qZA(),u._uU(9," \u7559\u8a00 "),u.qZA()())}function L(s,l){1&s&&u._UZ(0,"img",16)}function Y(s,l){1&s&&u._UZ(0,"img",17)}var S=function(){var s=function(){function l(p,f,E,D){(0,c.Z)(this,l),this.changelogApi=p,this.route=f,this.router=E,this.i18nService=D,this.changelog=0,this.serverType="",this.btnList=[],this.showLink=t.N.showLink,this.homePage=y.CN.homePage,this.commonPage=y.CN.common,this.destroySub$=new U.xQ}return(0,d.Z)(l,[{key:"ngOnInit",value:function(){var f=this;console.log("honme ngOnInit"),this.i18nService.getLanguagePackObs().pipe((0,w.R)(this.destroySub$)).subscribe(function(E){f.homePage=E.homePage,f.commonPage=y.CN.common,f.dealServerType()})}},{key:"dealServerType",value:function(){switch(this.route.snapshot.queryParams.serverType){case"114":this.btnList=[{value:"cn",label:this.homePage.cn}],this.serverType=v.D.cn;break;case"142":this.btnList=[{value:"jp",label:this.homePage.jp}],this.serverType=v.D.jp;break;default:this.btnList=[{value:"cn",label:this.homePage.cn},{value:"jp",label:this.homePage.jp},{value:"tw",label:this.homePage.tw}],this.serverType=""}}},{key:"jumpTo",value:function(f){this.router.navigate(["gvg",{serverType:f}],{queryParams:{serverType:this.route.snapshot.queryParams.serverType}})}},{key:"ngOnDestroy",value:function(){this.destroySub$.next(),this.destroySub$.complete()}}]),l}();return s.\u0275fac=function(p){return new(p||s)(u.Y36(z.s_),u.Y36(g.gz),u.Y36(g.F0),u.Y36(y.D))},s.\u0275cmp=u.Xpm({type:s,selectors:[["pcr-home"]],decls:50,vars:5,consts:[[1,"g-card"],[1,"g-card-title"],[1,"g-flex"],["nz-button","","class","g-btn","style","margin-right: 16px",3,"click",4,"ngFor","ngForOf"],["target","_blank","href","https://qun.qq.com/qqweb/qunpro/share?_wv=3&_wwv=128&inviteCode=1YJVLa&from=246610&biz=ka"],[2,"color","red","font-size","20px"],[4,"ngIf"],["href","https://github.com/pcrgvg/pcrgvg_flutter/issues","target","_blank"],["href","https://github.com/pcrgvg/pcrgvg_flutter","target","_blank"],["nz-tooltip","","href","https://pcr-app.oss-cn-shanghai.aliyuncs.com/app-release.apk","target","_blank",2,"margin","0 16px",3,"nzTooltipTitle"],["androidTemplate",""],["nz-tooltip","","href","https://testflight.apple.com/join/RHCIN2qI","target","_blank",2,"margin","0 16px",3,"nzTooltipTitle"],["iosTemplate",""],["nz-button","",1,"g-btn",2,"margin-right","16px",3,"click"],["href","https://github.com/pcrgvg/gvg_front/issues","target","_blank"],["href","https://bbs.nga.cn/read.php?tid=24307857&_fp=4","target","_blank"],["src","/assets/images/android.png",2,"width","100px","height","100px"],["src","/assets/images/ios.png",2,"width","100px","height","100px"]],template:function(p,f){if(1&p&&(u.TgZ(0,"div",0)(1,"h3",1),u._uU(2),u.qZA(),u.TgZ(3,"div",2),u.YNc(4,M,2,1,"button",3),u.qZA()(),u.TgZ(5,"div",0)(6,"h3",1),u._uU(7,"\u8bf4\u660e"),u.qZA(),u.TgZ(8,"p"),u._uU(9,"\u672c\u7ad9\u4e3b\u8981\u9488\u5bf9\u516c\u4e3b\u8fde\u7ed3\u516c\u4f1a\u6218\u4f5c\u4e1a"),u.qZA(),u.TgZ(10,"a",4),u._uU(11," \u6b22\u8fce\u52a0\u5165\u516c\u4e3b\u8fde\u63a5QQ\u9891\u9053 "),u.qZA(),u.TgZ(12,"div",5),u._uU(13,"\u613f\u610f\u7ef4\u62a4\u4f5c\u4e1a\u4ee5\u53ca\u63d0\u610f\u89c1\u53ef\u52a0\u7fa4809036333"),u.qZA(),u.YNc(14,R,10,0,"div",6),u.qZA(),u.TgZ(15,"div",0)(16,"h3",1),u._uU(17,"\u516c\u4f1a\u6218\u4f5c\u4e1a\u7f51APP\uff0cAPP\u65e0\u6cd5\u66f4\u65b0/\u4e0b\u8f7d\u6700\u65b0\u7248\u53ef\u5230\u6b64\u5904\u7ee7\u7eed\u4e0b\u8f7d"),u.qZA(),u.TgZ(18,"p"),u._uU(19," \u6280\u672f\u4f7f\u7528\u7684flutter,\u5982\u9047\u5230\u6709bug,\u53ef\u63d0 "),u.TgZ(20,"a",7),u._uU(21,"issue"),u.qZA()(),u.TgZ(22,"p"),u._uU(23,"ios\u7248\u7531\u521d\u97f3\u7b14\u8bb0\u4f5c\u8005\u6253\u5305\u63d0\u4f9b\uff0c\u9700\u8981\u7ed3\u5408testflight\u4f7f\u7528"),u.qZA(),u.TgZ(24,"p")(25,"a",8),u._uU(26,"\u9879\u76ee\u5730\u5740"),u.qZA(),u.TgZ(27,"a",9),u._uU(28," \u5b89\u5353\u4e0b\u8f7d "),u.YNc(29,L,1,0,"ng-template",null,10,u.W1O),u.qZA(),u.TgZ(31,"a",11),u._uU(32," IOS\u4e0b\u8f7d "),u.YNc(33,Y,1,0,"ng-template",null,12,u.W1O),u.qZA()()(),u.TgZ(35,"div",0)(36,"h3",1),u._uU(37,"\u66f4\u65b0\u65e5\u5fd7"),u.qZA(),u.TgZ(38,"div"),u._uU(39,"2022\u5e744\u6708:\u4e0d\u518d\u652f\u6301\u56fd\u670d"),u.qZA(),u.TgZ(40,"div"),u._uU(41,"2021\u5e749\u6708:\u89c6\u9891\u6dfb\u52a0\u5907\u6ce8/\u6587\u5b57\u8f74,\u53ef\u9009\u62e9\u56fa\u5b9a\u501f\u7528\u89d2\u8272"),u.qZA(),u.TgZ(42,"div"),u._uU(43,"2021\u5e748\u6708:\u6dfb\u52a0\u53f0\u670d\u652f\u6301"),u.qZA(),u.TgZ(44,"div"),u._uU(45,"2021\u5e746\u6708:\u66f4\u65b0\u56fd\u670d\u4f5c\u4e1a\u6570\u636e\u83b7\u53d6,\u6570\u636e\u6765\u6e90\u82b1\u821e\u653b\u7565\u7ec4\u7684\u5728\u7ebf\u4f5c\u4e1a\u6587\u6863,\u65b9\u6cd5\u6765\u81ea\u5206\u5200APP\u70bd\u65d7"),u.qZA(),u.TgZ(46,"div"),u._uU(47,"\u589e\u52a0\u7b5b\u9009\u5df2\u4f7f\u7528,\u53bb\u9664,\u5c3e\u5200(\u4e0d\u53c2\u4e0e\u5206\u5200)"),u.qZA(),u.TgZ(48,"div"),u._uU(49," \u5408\u5e76\u81ea\u52a8/\u624b\u52a8,\u5982\u679c\u7b5b\u9009\u65f6\u4f5c\u4e1a\u65b9\u5f0f\u5305\u542b\u624b\u52a8\u5219\u663e\u793a\u624b\u52a8\u4f24\u5bb3,\u4e0d\u5305\u542b\u624b\u52a8\u663e\u793a\u81ea\u52a8\u4f24\u5bb3,\u5206\u5200\u6392\u5e8f\u7684\u65f6\u5019\u540c\u7406,\u81ea\u52a8\u4f24\u5bb3\u53ef\u80fd\u4e0d\u51c6\u786e "),u.qZA()()),2&p){var E=u.MAs(30),D=u.MAs(34);u.xp6(2),u.Oqu(f.commonPage.server),u.xp6(2),u.Q6J("ngForOf",f.btnList),u.xp6(10),u.Q6J("ngIf",f.showLink),u.xp6(13),u.Q6J("nzTooltipTitle",E),u.xp6(4),u.Q6J("nzTooltipTitle",D)}},directives:[C.sg,m.ix,P.dQ,O.w,C.O5,B.SY],styles:[".g-card[_ngcontent-%COMP%]:not(:last-child){margin-bottom:30px}"]}),s}(),I=i(1787),q=i(3131),J=i(3445),Q=i(4354);function N(s,l){if(1&s&&(u.TgZ(0,"div",3),u._UZ(1,"pcr-task-result",4),u.qZA()),2&s){var p=l.$implicit,f=u.oxw();u.xp6(1),u.Q6J("bossTask",p)("usedList",f.usedList)}}function j(s,l){1&s&&(u.TgZ(0,"div",5),u._uU(1,"\u6ca1\u6709\u4efb\u4f55\u6536\u85cf~"),u.qZA())}var W=[{path:"",component:S},{path:"gvg",loadChildren:function(){return i.e(392).then(i.bind(i,2392)).then(function(l){return l.GvgModule})}},{path:"about",component:h},{path:"collect",component:function(){var s=function(){function l(p){(0,c.Z)(this,l),this.storageSrv=p,this.taskList=[],this.usedList=[]}return(0,d.Z)(l,[{key:"ngOnInit",value:function(){var E,f=this;q.getItem(I.W.collect).then(function(D){f.taskList=null!=D?D:[]}),this.usedList=null!==(E=this.storageSrv.localGet(I.w.usedList))&&void 0!==E?E:[]}}]),l}();return s.\u0275fac=function(p){return new(p||s)(u.Y36(J.V1))},s.\u0275cmp=u.Xpm({type:s,selectors:[["pcr-collectpage"]],decls:3,vars:2,consts:[[1,"g-card"],["class","scroll-item",4,"ngFor","ngForOf"],["style","text-align: center",4,"ngIf"],[1,"scroll-item"],[3,"bossTask","usedList"],[2,"text-align","center"]],template:function(p,f){1&p&&(u.TgZ(0,"div",0),u.YNc(1,N,2,2,"div",1),u.YNc(2,j,2,0,"div",2),u.qZA()),2&p&&(u.xp6(1),u.Q6J("ngForOf",f.taskList),u.xp6(1),u.Q6J("ngIf",!f.taskList.length))},directives:[C.sg,Q.l,C.O5],styles:[".scroll-item[_ngcontent-%COMP%]{padding:10px 5px;background:#eee;margin-bottom:10px;border-radius:6px}"]}),s}()}],H=function(){var s=(0,d.Z)(function l(){(0,c.Z)(this,l)});return s.\u0275fac=function(p){return new(p||s)},s.\u0275mod=u.oAB({type:s}),s.\u0275inj=u.cJS({imports:[[g.Bz.forChild(W)],g.Bz]}),s}(),K=i(647),X=function(){var s=(0,d.Z)(function l(){(0,c.Z)(this,l)});return s.\u0275fac=function(p){return new(p||s)},s.\u0275mod=u.oAB({type:s}),s.\u0275inj=u.cJS({imports:[[K.G,H,m.sL,B.cg]]}),s}()},7429:function(b,x,i){i.d(x,{N:function(){return g}});var d=i(2126),c=i(7989),m=i(22),B=i(7039),g=function(){var t=function(){function u(){(0,d.Z)(this,u)}return(0,c.Z)(u,[{key:"transform",value:function(T){var h=arguments.length<=1?void 0:arguments[1];switch(T){case m.Y.auto:return h.auto;case m.Y.manual:return h.manual;case m.Y.harfAuto:return h.semiAutomatic;case m.Y.easyManual:return h.easyManual;default:return""}}}]),u}();return t.\u0275fac=function(C){return new(C||t)},t.\u0275pipe=B.Yjl({name:"canauto",type:t,pure:!0}),t}()},956:function(b,x,i){i.d(x,{N:function(){return u}});var d=i(2126),c=i(7989),m=i(8669),B=i(9006),g=i(7039),t=i(3445),u=function(){var C=function(){function T(h,v){var y=this;(0,d.Z)(this,T),this.redive=h,this.cdr=v,this.onDestory$=new m.xQ,this.errorCount=0,this.redive.baseUrlOb().pipe((0,B.R)(this.onDestory$)).subscribe(function(U){y._unit&&y.setIconUrl()})}return(0,c.Z)(T,[{key:"unit",set:function(v){this._unit=v,this.setIconUrl()}},{key:"src",get:function(){var v;return null!==(v=this._src)&&void 0!==v?v:"/assets/images/000001.webp"}},{key:"setIconUrl",value:function(){var v;this._src=this.redive.addIconUrl(this._unit.prefabId,null!==(v=this._unit.currentRarity)&&void 0!==v?v:this._unit.rarity),this.cdr.markForCheck()}},{key:"ngOnDestroy",value:function(){this.onDestory$.next(),this.onDestory$.complete()}},{key:"onError",value:function(){var v;this.errorCount+=1,this._src=this.errorCount<=1?this.redive.addIconUrl(this._unit.prefabId,null!==(v=this._unit.currentRarity)&&void 0!==v?v:this._unit.rarity,this.redive.ossSource):"/assets/images/000001.webp",this.cdr.markForCheck()}}]),T}();return C.\u0275fac=function(h){return new(h||C)(g.Y36(t.WS),g.Y36(g.sBO))},C.\u0275cmp=g.Xpm({type:C,selectors:[["pcr-icon"]],inputs:{unit:"unit",borrowChara:"borrowChara"},decls:2,vars:3,consts:[[1,"flash"],["loading","lazy",2,"height","100%","width","100%",3,"src","error"]],template:function(h,v){1&h&&(g.TgZ(0,"div",0)(1,"img",1),g.NdJ("error",function(){return v.onError()}),g.qZA()()),2&h&&(g.ekj("flash-active",(null==v.borrowChara?null:v.borrowChara.prefabId)===v._unit.prefabId),g.xp6(1),g.Q6J("src",v.src,g.LSH))},styles:['.flash[_ngcontent-%COMP%]{width:45px;height:45px;position:relative;overflow:hidden}.flash[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:baseline}.flash-active[_ngcontent-%COMP%]{border:2px solid red}.flash-active[_ngcontent-%COMP%]:after{content:"";height:55px;width:25px;background:#fff;position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;opacity:.6;filter:blur(6px);animation:flash 2s infinite ease-out}@keyframes flash{0%{transform:translate(-20px,-20px) rotate(45deg)}to{transform:translate(45px,45px) rotate(45deg)}}'],changeDetection:0}),C}()},4354:function(b,x,i){i.d(x,{l:function(){return pt}});var d=i(2126),c=i(7989),m=i(9662),B=i(5319),g=i(22),t=i(7039),u=i(7420),C=i(3218),T=i(7740),h=i(956),v=i(8773),y=i(9048),U=i(4335),w=i(7429);function z(n,a){if(1&n&&t._UZ(0,"pcr-icon",14),2&n){var e=t.oxw(),o=e.$implicit,r=e.index,_=t.oxw();t.Q6J("unit",o)("borrowChara",r===_.selectedIndex?o:null)}}function P(n,a){if(1&n&&(t.TgZ(0,"div",15),t._UZ(1,"pcr-icon",14),t.TgZ(2,"div",16)(3,"div",17),t._uU(4),t.qZA(),t.TgZ(5,"div",18),t._uU(6),t.qZA()()()),2&n){var e=a.$implicit,o=t.oxw().$implicit;t.xp6(1),t.Q6J("unit",e)("borrowChara",o.borrowChara),t.xp6(3),t.hij("",e.currentRarity,"X"),t.xp6(2),t.hij("R",e.rank,"")}}function O(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){var e=t.oxw(2).$implicit;t.xp6(1),t.hij("(",e.easyManualDamage,")")}}function M(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){var e=t.oxw(2).$implicit;t.xp6(1),t.hij("(",e.damage,")")}}function R(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){var e=t.oxw(2).$implicit;t.xp6(1),t.hij("(",e.autoDamage?e.autoDamage:e.damage,")")}}function L(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){var e=t.oxw(2).$implicit;t.xp6(1),t.hij(" (",e.halfAutoDamage?e.halfAutoDamage:e.autoDamage?e.autoDamage:e.damage,") ")}}var Y=function(a){return{color:a}};function S(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){var Z=t.CHM(e).$implicit,G=t.oxw().$implicit;return t.oxw().toggleLinkShow(G,Z)}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"canauto"),t.qZA(),t.YNc(4,O,2,1,"span",20),t.YNc(5,M,2,1,"span",20),t.YNc(6,R,2,1,"span",20),t.YNc(7,L,2,1,"span",20),t.qZA()}if(2&n){var o=a.$implicit,r=t.oxw().$implicit,_=t.oxw();t.ekj("active",r.linkShowType===o&&"active"),t.Q6J("ngStyle",t.VKq(11,Y,_.autoColor(o))),t.xp6(2),t.Oqu(t.xi3(3,8,o,_.commonPage)),t.xp6(2),t.Q6J("ngIf",o===_.canAutoType.easyManual),t.xp6(1),t.Q6J("ngIf",o===_.canAutoType.manual),t.xp6(1),t.Q6J("ngIf",o===_.canAutoType.auto),t.xp6(1),t.Q6J("ngIf",o===_.canAutoType.harfAuto)}}function I(n,a){1&n&&(t.TgZ(0,"div",21),t._uU(1,"(\u5c3e\u5200)"),t.qZA())}function q(n,a){if(1&n&&(t.TgZ(0,"div",22)(1,"h6"),t._uU(2),t.qZA(),t.TgZ(3,"pre"),t._uU(4),t.qZA()()),2&n){var e=t.oxw().$implicit,o=t.oxw();t.xp6(2),t.hij("",o.commonPage.remark,":"),t.xp6(2),t.Oqu(e.remarks)}}function J(n,a){if(1&n&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"canauto"),t.qZA(),t.TgZ(3,"pre",29),t._uU(4),t.qZA()),2&n){var e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.Oqu(t.xi3(2,4,e.type,o.commonPage)),t.xp6(2),t.Udp("color",o.isSetTop(e)?"#1cbbb4":""),t.xp6(1),t.Oqu(e.name)}}function Q(n,a){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.TgZ(2,"a",30)(3,"pre"),t._uU(4),t.qZA()()()),2&n){var e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.hij(" ",o.gvgPage.videoLink,": "),t.xp6(1),t.Q6J("href",e.link,t.LSH),t.xp6(2),t.Oqu(e.name)}}function N(n,a){if(1&n&&(t.TgZ(0,"div")(1,"h6"),t._uU(2),t.qZA(),t.TgZ(3,"pre"),t._uU(4),t.qZA()()),2&n){var e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(2),t.hij("",o.commonPage.remark,":"),t.xp6(2),t.Oqu(e.remarks)}}function j(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"nz-tab",3),t.YNc(1,J,5,7,"ng-template",null,4,t.W1O),t.TgZ(3,"div",26)(4,"button",27),t.NdJ("click",function(){t.CHM(e);var F=t.oxw().$implicit;return t.oxw(3).setTop(F)}),t._uU(5),t.qZA()(),t.YNc(6,Q,5,3,"div",20),t.YNc(7,N,5,2,"div",20),t.qZA()}if(2&n){var o=t.MAs(2),r=t.oxw().$implicit,_=t.oxw(3);t.Q6J("nzTitle",o),t.xp6(5),t.hij(" ",_.isSetTop(r)?"\u53d6\u6d88\u7f6e\u9876":"\u7f6e\u9876"," "),t.xp6(1),t.Q6J("ngIf",r.link),t.xp6(1),t.Q6J("ngIf",r.remarks)}}function $(n,a){if(1&n&&(t.ynx(0),t.YNc(1,j,8,4,"nz-tab",25),t.BQk()),2&n){var e=a.$implicit,o=t.oxw(2).$implicit,r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.showLink(o,e))}}function W(n,a){if(1&n&&(t.TgZ(0,"div",23)(1,"nz-tabset"),t.YNc(2,$,2,1,"ng-container",24),t.qZA()()),2&n){var e=t.oxw().$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngForOf",o.sortLink(e.links))}}function H(n,a){if(1&n&&(t.TgZ(0,"nz-tab",3),t.YNc(1,z,1,2,"ng-template",null,4,t.W1O),t.TgZ(3,"div",5),t.YNc(4,P,7,4,"div",6),t.TgZ(5,"div",7)(6,"div",8),t.YNc(7,S,8,13,"div",9),t.qZA(),t.YNc(8,I,2,0,"div",10),t.qZA()(),t.TgZ(9,"div",11),t._uU(10),t.qZA(),t.YNc(11,q,5,2,"div",12),t.YNc(12,W,3,1,"div",13),t.qZA()),2&n){var e=a.$implicit,o=t.MAs(2);t.Q6J("nzTitle",o),t.xp6(4),t.Q6J("ngForOf",e.charas),t.xp6(3),t.Q6J("ngForOf",e.canAuto),t.xp6(1),t.Q6J("ngIf",1===e.type),t.xp6(2),t.Oqu(e.exRemarks),t.xp6(1),t.Q6J("ngIf",e.remarks),t.xp6(1),t.Q6J("ngIf",e.links.length)}}var K=function(){var n=function(){function a(e){(0,d.Z)(this,a),this.topLinkService=e,this.canAutoType=g.Y,this.commonPage=B.CN.common,this.selectedIndex=0,this.gvgPage=B.CN.gvgPage}return(0,c.Z)(a,[{key:"autoColor",value:function(o){switch(o){case g.Y.auto:return"#68B9FF";case g.Y.harfAuto:return"#1cbbb4";default:return"#FF2277"}}},{key:"sortLink",value:function(o){var F,r=[],_=[],A=(0,m.Z)(o);try{for(A.s();!(F=A.n()).done;){var Z=F.value;this.topLinkService.isSetTop(Z)?r.push(Z):_.push(Z)}}catch(G){A.e(G)}finally{A.f()}return[].concat(r,_)}},{key:"isSetTop",value:function(o){return this.topLinkService.isSetTop(o)}},{key:"setTop",value:function(o){this.topLinkService.setTop(o)}},{key:"toggleLinkShow",value:function(o,r){o.linkShowType=o.linkShowType===r?null:r}},{key:"showLink",value:function(o,r){return!r.type||!o.linkShowType||o.linkShowType==r.type}}]),a}();return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.MZ))},n.\u0275cmp=t.Xpm({type:n,selectors:[["pcr-result-detail"]],inputs:{bossTask:"bossTask"},decls:3,vars:2,consts:[[2,"padding","10px 0","max-height","60vh","overflow-y","auto"],[3,"nzSelectedIndex","nzSelectedIndexChange"],[3,"nzTitle",4,"ngFor","ngForOf"],[3,"nzTitle"],["titleTpl",""],[1,"g-flex",2,"flex-wrap","wrap"],["class","g-flex-column chara-item",4,"ngFor","ngForOf"],[1,"g-flex-between",2,"height","70px","padding","0 2px"],[2,"display","flex"],["style","text-align: center; font-size: 14px; font-weight: bold; cursor: pointer; margin-left: 5px",3,"active","ngStyle","click",4,"ngFor","ngForOf"],["style","color: #2f42d0",4,"ngIf"],[2,"color","#000"],["class","g-card","style","margin: 5px 0",4,"ngIf"],["class","g-card",4,"ngIf"],[3,"unit","borrowChara"],[1,"g-flex-column","chara-item"],[1,"g-flex-between",2,"font-size","12px"],[2,"color","#ff8a00"],[2,"color","#ff2277"],[2,"text-align","center","font-size","14px","font-weight","bold","cursor","pointer","margin-left","5px",3,"ngStyle","click"],[4,"ngIf"],[2,"color","#2f42d0"],[1,"g-card",2,"margin","5px 0"],[1,"g-card"],[4,"ngFor","ngForOf"],[3,"nzTitle",4,"ngIf"],[1,"g-flex",2,"justify-content","flex-end"],["nz-button","","nzType","primary",3,"click"],[2,"text-align","center"],[2,"text-align","center","white-space","pre"],["target","_blank",3,"href"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"nz-tabset",1),t.NdJ("nzSelectedIndexChange",function(_){return o.selectedIndex=_}),t.YNc(2,H,13,7,"nz-tab",2),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("nzSelectedIndex",o.selectedIndex),t.xp6(1),t.Q6J("ngForOf",o.bossTask))},directives:[C.xH,T.sg,C.xw,h.N,T.PC,T.O5,v.ix,y.dQ,U.w],pipes:[w.N],styles:['.chara-item[_ngcontent-%COMP%]{margin-right:10px}.active[_ngcontent-%COMP%]{position:relative}.active[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:50%;bottom:10p;left:50%;transform:translate(-50%);height:2px;background:red}']}),n}(),X=i(1420),s=i(6645),l=["textTempl"];function p(n,a){if(1&n&&(t.TgZ(0,"span",2,3),t._uU(2),t.qZA()),2&n){var e=t.oxw();t.Q6J("nzTooltipTitle",e.text),t.xp6(2),t.hij(" ",e.text,"\n")}}function f(n,a){if(1&n&&(t.TgZ(0,"span",4,3),t._uU(2),t.qZA()),2&n){var e=t.oxw();t.xp6(2),t.Oqu(e.text)}}var E=function(){var n=function(){function a(e){(0,d.Z)(this,a),this.render=e,this.text="",this.showTip=!1,this.nzTrigger=null}return(0,c.Z)(a,[{key:"byteLength",value:function(o){var A,r=0,_=(0,m.Z)(o);try{for(_.s();!(A=_.n()).done;)A.value.charCodeAt(0)>255?r+=2:r++}catch(Z){_.e(Z)}finally{_.f()}return r}},{key:"getTextWidth",value:function(o,r,_){var F=this.render.createElement("canvas").getContext("2d");return F.font=r||"".concat(_,"  Arial"),F.measureText(o).width}},{key:"ngAfterViewInit",value:function(){var o=this,r=window.getComputedStyle(this.textTempl.nativeElement),_=r.width,Z=this.getTextWidth(this.text,r.font,r.fontSize);setTimeout(function(){o.showTip=Z>parseFloat(_)},0)}}]),a}();return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["pcr-ellipsis-text"]],viewQuery:function(e,o){var r;1&e&&t.Gf(l,5),2&e&&t.iGM(r=t.CRH())&&(o.textTempl=r.first)},inputs:{text:"text"},decls:2,vars:2,consts:[["class","ellipsis-text","nzTooltipPlacement","top","nz-tooltip","",3,"nzTooltipTitle",4,"ngIf"],["class","ellipsis-text",4,"ngIf"],["nzTooltipPlacement","top","nz-tooltip","",1,"ellipsis-text",3,"nzTooltipTitle"],["textTempl",""],[1,"ellipsis-text"]],template:function(e,o){1&e&&(t.YNc(0,p,3,2,"span",0),t.YNc(1,f,3,1,"span",1)),2&e&&(t.Q6J("ngIf",o.showTip),t.xp6(1),t.Q6J("ngIf",!o.showTip))},directives:[T.O5,s.SY],styles:["[_nghost-%COMP%]{display:inline-flex;max-width:120px}.ellipsis[_ngcontent-%COMP%]{overflow:hidden;width:100%}.ellipsis-text[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:14px;width:100%}"]}),n}();function D(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){var e=t.oxw(2);t.xp6(1),t.hij("(",e.task.easyManualDamage,")")}}function k(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){var e=t.oxw(2);t.xp6(1),t.hij("(",e.task.damage,")")}}function V(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){var e=t.oxw(2);t.xp6(1),t.hij("(",e.task.autoDamage?e.task.autoDamage:e.task.damage,")")}}function tt(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){var e=t.oxw(2);t.xp6(1),t.hij(" (",e.task.halfAutoDamage?e.task.halfAutoDamage:e.task.autoDamage?e.task.autoDamage:e.task.damage,") ")}}var ut=function(a){return{color:a}};function et(n,a){if(1&n&&(t.TgZ(0,"div",13)(1,"span"),t._uU(2),t.ALo(3,"canauto"),t.qZA(),t.YNc(4,D,2,1,"span",14),t.YNc(5,k,2,1,"span",14),t.YNc(6,V,2,1,"span",14),t.YNc(7,tt,2,1,"span",14),t.qZA()),2&n){var e=a.$implicit,o=t.oxw();t.Q6J("ngStyle",t.VKq(9,ut,o.autoColor(e))),t.xp6(2),t.Oqu(t.xi3(3,6,e,o.commonPage)),t.xp6(2),t.Q6J("ngIf",e===o.canAutoType.easyManual),t.xp6(1),t.Q6J("ngIf",e===o.canAutoType.manual),t.xp6(1),t.Q6J("ngIf",e===o.canAutoType.auto),t.xp6(1),t.Q6J("ngIf",e===o.canAutoType.harfAuto)}}function nt(n,a){1&n&&(t.TgZ(0,"div",15),t._uU(1,"(\u5c3e\u5200)"),t.qZA())}function ot(n,a){if(1&n&&(t.TgZ(0,"a",16),t._uU(1," \u5907\u6ce8 "),t.qZA()),2&n){t.oxw();var e=t.MAs(11);t.Q6J("nzTooltipMouseLeaveDelay",1e7)("nzTooltipTitle",e)}}function it(n,a){if(1&n&&(t.TgZ(0,"pre",17),t._uU(1),t.qZA()),2&n){var e=t.oxw();t.xp6(1),t.Oqu(e.task.remarks)}}function at(n,a){if(1&n&&(t.TgZ(0,"div",18),t._UZ(1,"pcr-icon",19),t.TgZ(2,"div",20)(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA()()()),2&n){var e=a.$implicit,o=t.oxw();t.xp6(1),t.Q6J("unit",e)("borrowChara",o.task.borrowChara),t.xp6(3),t.hij("",e.currentRarity,"X"),t.xp6(2),t.hij("R",e.rank,"")}}function st(n,a){if(1&n&&t._UZ(0,"pcr-ellipsis-text",21),2&n){var e=t.oxw();t.Q6J("text",e.task.exRemarks)}}var rt=function(){var n=function(){function a(){(0,d.Z)(this,a),this.canAutoType=g.Y,this.commonPage=B.CN.common}return(0,c.Z)(a,[{key:"autoColor",value:function(o){switch(o){case g.Y.auto:return"#68B9FF";case g.Y.harfAuto:return"#1cbbb4";default:return"#FF2277"}}}]),a}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["pcr-result-item"]],inputs:{task:"task",usedList:"usedList"},decls:15,vars:8,consts:[[1,"task-item",2,"padding","0 5px"],[1,"g-flex-between"],[1,"g-flex",2,"margin-bottom","5px"],[1,"g-flex"],[3,"unit"],[1,"g-flex-between",2,"height","70px","padding","0 2px"],[2,"display","flex"],["style","text-align: center; font-size: 14px; font-weight: bold; margin-left: 5px",3,"ngStyle",4,"ngFor","ngForOf"],["style","color: #2f42d0",4,"ngIf"],["nz-tooltip","","nzTooltipTrigger","click",3,"nzTooltipMouseLeaveDelay","nzTooltipTitle",4,"ngIf"],["titleTemplate",""],["class","g-flex-column","class","item",4,"ngFor","ngForOf"],["style","height: 20px; color: red; max-width: 270px",3,"text",4,"ngIf"],[2,"text-align","center","font-size","14px","font-weight","bold","margin-left","5px",3,"ngStyle"],[4,"ngIf"],[2,"color","#2f42d0"],["nz-tooltip","","nzTooltipTrigger","click",3,"nzTooltipMouseLeaveDelay","nzTooltipTitle"],[1,"remarks"],[1,"item"],[3,"unit","borrowChara"],[1,"g-flex-between",2,"font-size","14px","margin-top","2px","width","100%"],[2,"height","20px","color","red","max-width","270px",3,"text"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"pcr-icon",4),t.TgZ(5,"div",5)(6,"div",6),t.YNc(7,et,8,11,"div",7),t.qZA(),t.YNc(8,nt,2,0,"div",8),t.qZA()()(),t.YNc(9,ot,2,2,"a",9),t.YNc(10,it,2,1,"ng-template",null,10,t.W1O),t.qZA(),t.TgZ(12,"div",3),t.YNc(13,at,7,4,"div",11),t.qZA(),t.YNc(14,st,1,1,"pcr-ellipsis-text",12),t.qZA()),2&e&&(t.Udp("background-color",o.usedList.includes(o.task.id)?"rgb(255 162 154)":""),t.xp6(4),t.Q6J("unit",o.task),t.xp6(3),t.Q6J("ngForOf",o.task.canAuto),t.xp6(1),t.Q6J("ngIf",1===o.task.type),t.xp6(1),t.Q6J("ngIf",o.task.remarks),t.xp6(4),t.Q6J("ngForOf",o.task.charas),t.xp6(1),t.Q6J("ngIf",o.task.exRemarks))},directives:[h.N,T.sg,T.PC,T.O5,s.SY,E],pipes:[w.N],styles:[".item[_ngcontent-%COMP%]:not(:last-child){margin-right:10px}.remarks[_ngcontent-%COMP%]{max-height:60vh;overflow:auto}"]}),n}();function lt(n,a){if(1&n&&t._UZ(0,"pcr-result-item",5),2&n){var e=a.$implicit,o=t.oxw();t.Q6J("task",e)("usedList",o.usedList)}}var pt=function(){var n=function(){function a(e,o){(0,d.Z)(this,a),this.collectService=e,this.nzModalService=o}return(0,c.Z)(a,[{key:"collect",value:function(o){this.collectService.collect(o)}},{key:"isCollected",value:function(o){return this.collectService.isCollected(o)}},{key:"viewDetail",value:function(){this.nzModalService.create({nzTitle:"\u4f5c\u4e1a\u8be6\u60c5",nzWidth:"80vw",nzContent:K,nzComponentParams:{bossTask:this.bossTask}})}}]),a}();return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.kg),t.Y36(X.Sf))},n.\u0275cmp=t.Xpm({type:n,selectors:[["pcr-task-result"]],inputs:{bossTask:"bossTask",usedList:"usedList"},decls:8,vars:2,consts:[[2,"font-size","16px","color","#68b9ff","text-align","right","padding","0 20px"],[2,"margin-right","20px","cursor","pointer",3,"click"],[2,"cursor","pointer","color","#eb2f96",3,"click"],[1,"task"],[3,"task","usedList",4,"ngFor","ngForOf"],[3,"task","usedList"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"span",1),t.NdJ("click",function(){return o.viewDetail()}),t._uU(3,"\u8be6\u60c5"),t.qZA(),t.TgZ(4,"span",2),t.NdJ("click",function(){return o.collect(o.bossTask)}),t._uU(5),t.qZA()(),t.TgZ(6,"div",3),t.YNc(7,lt,1,2,"pcr-result-item",4),t.qZA()()),2&e&&(t.xp6(5),t.hij(" ",o.isCollected(o.bossTask)?"\u53d6\u6d88\u6536\u85cf":"\u6536\u85cf"," "),t.xp6(2),t.Q6J("ngForOf",o.bossTask))},directives:[T.sg,rt],styles:[".task[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,33%)}@media (max-width: 577px){.task[_ngcontent-%COMP%]{grid-template-columns:auto}}"]}),n}()}}]);